<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</title>
    <link rel="stylesheet" href="admin.css">

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</h1>
            <p>–î–∏–∞–≥—Ä–∞–º–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π</p>
            <div class="nav">
                <a href="index.html" class="nav-btn">üè† –ì–ª–∞–≤–Ω–∞—è</a>
                <a href="admin.html" class="nav-btn">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
            </div>
        </div>

        <div class="content">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats" id="statsSection">
                <div class="stat-card">
                    <h3>–í—Å–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h3>
                    <div class="number" id="totalImages">0</div>
                </div>
                <div class="stat-card">
                    <h3>–í–∏–¥–∏–º—ã—Ö</h3>
                    <div class="number" id="visibleImages">0</div>
                </div>
                <div class="stat-card">
                    <h3>–°–∫—Ä—ã—Ç—ã—Ö</h3>
                    <div class="number" id="hiddenImages">0</div>
                </div>
                <div class="stat-card">
                    <h3>–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥</h3>
                    <div class="number" id="totalRating">0</div>
                </div>
            </div>

            <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ -->
            <div class="section">
                <div class="section-header" onclick="toggleRatingsChart()">
                    <h2>üìä –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤</h2>
                    <span class="collapse-icon" id="collapseIcon">‚ñº</span>
                </div>
                
                <div class="section-content" id="ratingsChartContent">
                    <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π -->
                    <div class="sort-controls">
                        <select id="sortBy" class="sort-select">
                            <option value="total">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—â–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                            <option value="likes">–ü–æ –ª–∞–π–∫–∞–º (—É–±—ã–≤–∞–Ω–∏–µ)</option>
                            <option value="dislikes">–ü–æ –¥–∏–∑–ª–∞–π–∫–∞–º (—É–±—ã–≤–∞–Ω–∏–µ)</option>
                            <option value="ratio">–ü–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—é –ª–∞–π–∫–æ–≤</option>
                            <option value="title">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
                            <option value="totalRatings">–ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ü–µ–Ω–æ–∫</option>
                        </select>

                        <select id="filterByTag" class="sort-select">
                            <option value="all">–í—Å–µ —Ç–µ–≥–∏</option>
                        </select>

                        <button class="sort-btn active" onclick="toggleSortOrder()" id="sortOrderBtn">
                            üîΩ –£–±—ã–≤–∞–Ω–∏–µ
                        </button>

                        <button class="btn btn-primary" onclick="refreshChart()">
                            üîÑ –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>

                    <!-- –õ–µ–≥–µ–Ω–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color legend-likes"></div>
                            <span>–õ–∞–π–∫–∏ üëç</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-dislikes"></div>
                            <span>–î–∏–∑–ª–∞–π–∫–∏ üëé</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #6c757d;"></div>
                            <span>–î–ª–∏–Ω–∞ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–æ–∫</span>
                        </div>
                    </div>

                    <!-- –®–∫–∞–ª–∞ –º–∞—Å—à—Ç–∞–±–∞ -->
                    <div class="chart-scale" id="chartScale">
                        <span>0 –æ—Ü–µ–Ω–æ–∫</span>
                        <span id="maxRatings">0 –æ—Ü–µ–Ω–æ–∫</span>
                    </div>

                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                    <div class="ratings-chart" id="ratingsChart">
                        <div class="no-data">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                    </div>
                </div>
            </div>

            <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div class="alert" id="alertMessage"></div>

            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div class="section">
                <h2 id="formTitle">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h2>
                <form id="imageForm">
                    <input type="hidden" id="editId">
                    
                    <div class="form-group">
                        <label for="imageTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è *</label>
                        <input type="text" id="imageTitle" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label>–ò—Å—Ç–æ—á–Ω–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                            <button type="button" class="btn btn-primary" onclick="showUrlInput()">üîó –ü–æ URL</button>
                            <button type="button" class="btn btn-success" onclick="showFileInput()">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
                        </div>
                        
                        <div id="urlInput" style="display: none;">
                            <input type="url" id="imageUrl" class="form-control" placeholder="https://example.com/image.jpg">
                        </div>
                        
                        <div id="fileInput" style="display: none;">
                            <div class="upload-area" onclick="document.getElementById('fileUpload').click()">
                                <p>üìÅ –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞</p>
                                <input type="file" id="fileUpload" accept="image/*" style="display: none;">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</label>
                        <img id="imagePreview" class="image-preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                    </div>

                    <div class="form-group">
                        <label for="imageTags">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                        <input type="text" id="imageTags" class="form-control" placeholder="–ø—Ä–∏—Ä–æ–¥–∞, –∑–∞–∫–∞—Ç, –≤–æ–¥–∞">
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="imageHidden"> –°–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        </label>
                    </div>

                    <div style="display: flex; gap: 10px;">
                        <button type="submit" class="btn btn-primary" id="submitBtn">–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                        <button type="button" class="btn btn-danger" onclick="resetForm()" style="display: none;" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>

            <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
            <div class="section">
                <h2>üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
                </div>
                <div id="tagFilter" class="tag-list"></div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
            <div class="section">
                <h2>üñºÔ∏è –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>
                <div class="images-grid" id="imagesGrid"></div>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>